# Plan: Visionary - Sprint 3

**Persona:** Visionary ðŸ”­
**Sprint:** 3
**Created:** 2026-01-26
**Priority:** High

## Objectives

My mission for this sprint is to prototype the "Active Maintainer" (Moonshot) by building the first "Janitor Agent".

- [ ] **Janitor Agent Prototype:** Create `JanitorAgent` using `pydantic-ai` capable of basic AST analysis (RFC 028).
- [ ] **Refactoring Skill:** Implement a specific skill: "Add Missing Docstrings".
- [ ] **Sandboxing:** Implement a `GitSandbox` that allows the agent to modify code in a temporary branch without pushing.
- [ ] **Integration Test:** Run the Janitor against the `egregora` codebase itself (dogfooding) in "Dry Run" mode.

## Dependencies

- **Sentinel:** Review the sandboxing approach to ensure the agent cannot leak secrets or destroy data.
- **Sheriff:** Ensure the generated PRs pass CI checks.

## Context

With "Dry Run Mode" (Sprint 2) in place, we can safely let an AI agent propose code changes. This sprint moves from "Simulation" to "Action", but restricts the action to a safe, verifiable task (adding docstrings).

## Expected Deliverables

1.  `src/egregora/agents/janitor.py` (Prototype).
2.  `src/egregora/ops/sandbox.py` (Safe execution environment).
3.  Proof-of-Concept PR generated by the agent adding docstrings to `write.py`.

## Risks and Mitigations

| Risk | Probability | Impact | Mitigation |
|-------|---------------|---------|-----------|
| AI breaks code | High | High | Agent runs in `dry_run` mode by default; PRs require human review. |
| Hallucinations | Medium | Medium | Restrict the prompt to *only* add docstrings, forbid changing logic. |

## Proposed Collaborations

- **With Sentinel:** Security review of the `GitSandbox`.
- **With Refactor:** Define the "Code Quality Standards" the agent should enforce.
