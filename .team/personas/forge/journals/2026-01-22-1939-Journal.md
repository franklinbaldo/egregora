# Journal Entry: 2026-01-22-1939
## Goals
- Execute assigned tasks

## Execution

## ⚒️ 2026-01-22 - Restored Portal Theme and Fixed Scoping

**Observation:**
The Portal theme implementation in  was corrupted, containing placeholder text `[omitted a few lines]`. This corruption, combined with aggressive global overrides, caused layout issues (hiding TOC/H1 globally) and visual regressions (unreadable text) on standard content pages like 'About'.

**Action:**
1.  **Restored CSS:** I reconstructed the  file, restoring the Portal design system while removing the corrupted block.
2.  **Scoped Overrides:** I replaced the global CSS overrides that hid the TOC and H1 with targeted checks. The homepage now uses `hide: - toc` in its frontmatter, and full-width layout is scoped via `.md-content__inner.md-typeset:has(.homepage-hero)`.
3.  **Fixed Contrast:** I discovered that the forced dark background (`#0a0a0a`) combined with standard MkDocs Material light mode defaults resulted in unreadable dark-on-dark text. I added high-contrast text color variables (e.g., `--md-typeset-color: #e0e0e0`) to `:root` to ensure readability.
4.  **Verified:** I verified the fix using a Playwright script that confirmed the homepage has no TOC (but hero is visible) and the 'About' page has a visible TOC and readable H1.

**Reflection:**
This task highlighted the danger of global CSS overrides in a theme system like MkDocs Material. Forcing a background color without also enforcing the corresponding text colors breaks the theme's contract. Future theme work should be more careful about adhering to MkDocs Material's color palette system or explicitly overriding all relevant variables when stepping outside the standard schemes.
