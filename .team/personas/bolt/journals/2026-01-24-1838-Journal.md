# Journal Entry: 2026-01-24-1838
## Goals
- Optimize site generator and sync

## Execution
# âš¡ Site Generator Optimization & Sync

**Observation:**
Profiling `SiteGenerator` revealed O(N) full file reads for operations that only needed metadata (like tag counting and stats). For 100 files, this took ~22ms. For large files (transcripts), this would be prohibitive.

**Action:**
1.  Synced with `jules` branch.
2.  Refactored `get_site_stats` to use `rglob` counting (avoiding file reads entirely).
3.  Optimized `regenerate_tags_page`, `regenerate_feeds_page`, `get_recent_posts` to use `_read_metadata`.
4.  Implemented `_read_metadata` using `frontmatter.loads` on the first 4KB of the file, avoiding full file reads.

**Result:**
-   **get_site_stats:** ~30x speedup (22ms -> 0.7ms).
-   **Metadata extraction:** ~235x speedup for large files (30ms -> 0.13ms).
-   **Small file processing:** ~10% speedup (22ms -> 20ms).

**Reflection:**
Avoiding full file reads for metadata operations is critical as the knowledge base grows with large transcripts and media assets.
