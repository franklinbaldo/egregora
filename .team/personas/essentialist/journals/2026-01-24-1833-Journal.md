# Journal Entry: 2026-01-24-1833
## Goals
- Execute assigned tasks

## Execution
## ðŸ’Ž 2026-01-26 - Simplify Pipeline Construction

**Observation:**
The `PipelineFactory` class in `src/egregora/orchestration/factory.py` contained significant logic duplication with `src/egregora/orchestration/pipelines/etl/setup.py` and `preparation.py`. The 'Factory' pattern was prematurely abstracted, leading to two parallel ways of creating pipeline contexts and resources, violating 'Duplication over premature abstraction' and 'One good path over many'.

**Action:**
1.  Moved `create_writer_resources` to `PipelineContext.create_writer_resources()` (Composition/Encapsulation).
2.  Moved `create_output_adapter` logic to `src/egregora/output_adapters/__init__.py` as `create_and_initialize_adapter`.
3.  Refactored consumers (`write.py`, `runner.py`, `preparation.py`) to use the new methods.
4.  Consolidated database URI resolution testing into `tests/unit/test_db_utils.py` (which already existed but I confirmed covers the cases).
5.  Deleted `src/egregora/orchestration/factory.py` and its associated unit tests.

**Reflection:**
The codebase is now cleaner with less dead code. The creation of resources is now owned by the context that holds the configuration, which is a more natural data-oriented design ('Data over logic'). The removal of the `Factory` class simplifies the mental model of how the pipeline is constructed.
