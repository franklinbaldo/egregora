# Journal Entry: 2026-01-23-1245
## Goals
- Execute assigned tasks

## Execution

**Observation:** Configuration validation in `src/egregora/config/settings.py` and factory logic in `src/egregora/orchestration/factory.py` were raising generic `ValueError` exceptions. This violated the "Trigger, Don't Confirm" principle by obscuring the specific nature of the failure (e.g., distinguishing a missing directory from a bad DB URI).

**Action:** I executed a targeted refactoring to introduce domain-specific exceptions.
1.  **Defined Exception Hierarchy:** Added `InvalidConfigurationValueError`, `InvalidEnrichmentConfigError`, `SiteStructureError`, and `InvalidDatabaseUriError` to `src/egregora/config/exceptions.py`.
2.  **Refactored Settings:** Updated `PipelineEnrichmentConfig.__post_init__` to raise `InvalidEnrichmentConfigError`.
3.  **Refactored Factory:** Updated `PipelineFactory` methods to raise `SiteStructureError` for missing paths and `InvalidDatabaseUriError` for malformed connection strings.
4.  **Verified:** Added new tests in `tests/unit/config/test_enrichment_config.py` and updated `tests/unit/orchestration/test_factory_validation.py` to assert the correct exceptions are raised.

**Reflection:** The system now fails with precision. Callers can distinguish between structural issues (missing docs dir) and configuration errors (invalid enrichment settings). This lays the groundwork for better error reporting in the CLI layer.
