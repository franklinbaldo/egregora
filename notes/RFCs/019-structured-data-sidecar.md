# RFC: Structured Data Sidecar
**Status:** Actionable Proposal
**Date:** 2024-07-26
**Disruption Level:** Low - Fast Path

## 1. The Vision
To accelerate the development of a future real-time Egregora, we need to begin extracting structured, machine-readable data from conversations *now*. This RFC proposes modifying the existing `egregora write` pipeline to produce a "sidecar" file—a `knowledge_graph.json`—alongside every generated blog post. This file will contain a structured representation of the key entities, decisions, and questions identified in the text, creating a foundational dataset for a future knowledge graph without disrupting the current blog output.

## 2. The Broken Assumption
This proposal challenges the assumption that the **only valuable output of the pipeline is human-readable prose**.
> "We currently assume that the Writer agent's sole job is to create a narrative blog post. This prevents us from capturing the rich, structured knowledge embedded within the conversation that is vital for machine intelligence."

## 3. The First Implementation Path (≤30 days)
- **Step 1: Modify the Writer Agent's Prompt:** Update the `writer.jinja` prompt to instruct the LLM to extract key entities (people, projects, technologies), decisions (with outcomes), and open questions as a JSON object *in addition* to the prose blog post.
- **Step 2: Update the Agent's Output Parsing:** Modify the pipeline to parse this JSON from the LLM's response.
- **Step 3: Create the Sidecar Output:** Create a new output step that saves the extracted JSON to a file named `[post-slug].json` in the same directory as the blog post.
- **Dependencies:** This change is localized to the Writer agent and the output pipeline, with minimal external dependencies.

## 4. The Value Proposition
This is the fastest and most efficient way to de-risk the "Egregora Symbiote" moonshot. It allows us to start building the necessary structured dataset immediately, using the existing, stable pipeline. It proves the viability of extracting a knowledge graph from unstructured text and delivers a machine-readable asset that can be used for new experiments (like a "Related Concepts" API) long before the real-time framework is built.

## 5. Success Criteria
- **Metric 1:** For every `.md` file generated by the pipeline, a corresponding `.json` file is also created.
- **Metric 2:** The JSON sidecar files contain identifiable and relevant entities, decisions, and questions from the source conversation.
