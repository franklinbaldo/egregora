exclude: ^(\.team/|artifacts/)
repos:
  - repo: local
    hooks:
      - id: ruff
        name: Ruff lint
        entry: uv run ruff check --fix --unsafe-fixes
        language: system
        types: [python]
      - id: ruff-format
        name: Ruff format
        entry: uv run ruff format
        language: system
        types: [python]
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.6.0
    hooks:
      - id: check-added-large-files
        args: ["--maxkb=2000"]
      - id: check-ast
      - id: check-case-conflict
      - id: check-merge-conflict
      - id: check-json
      - id: check-toml
      - id: check-yaml
        args: ["--allow-multiple-documents", "--unsafe"]
      - id: debug-statements
      - id: end-of-file-fixer
      - id: mixed-line-ending
      - id: trailing-whitespace
  # Removed custom hooks - now handled by ruff + scripts/quality.sh
  # - check-complexity, check-dead-code, check-security: Use scripts/quality.sh instead
  - repo: local
    hooks:
      - id: vulture
        name: Check for dead code with vulture
        entry: uv run vulture
        args:
          ["src", "tests", "tests/vulture_whitelist.py", "--min-confidence=90"]
        language: system
        types: [python]
        pass_filenames: false
      # xenon removed - let ruff handle complexity (C901, PLR* rules)
      - id: check-private-imports
        name: Check private imports
        entry: scripts/dev_tools/check_private_imports.py
        language: python
        types: [python]
        pass_filenames: true
      - id: check-test-config
        name: Check test configuration
        entry: python scripts/dev_tools/check_test_config.py
        language: system
        pass_filenames: false
        files: tests/.*\.py$
      # check-lint-suppressions removed - allow noqa/type:ignore for edge cases
      # prompt-change-validation and hire-vote-validation removed
      # (Jules governance hooks - not actively used)
