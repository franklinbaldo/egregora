# UX/UI TODO - Structured format for programmatic task management
# Last updated: 2024-07-26

[metadata]
version = "1.0"
last_updated = "2024-07-26T00:00:00Z"
vision_doc = "docs/ux-vision.md"
template_location = "src/egregora/rendering/templates/site"

[workflow]
curator_persona = ".jules/personas/curator.md"
forge_persona = ".jules/personas/forge.md"
description = "Curator evaluates blogs and updates TODO. Forge implements items from high_priority."

# High Priority - Critical for Excellence
[[tasks.high_priority]]
id = "fix-mkdocs-custom-dir"
title = "Correct the `custom_dir` path in the `mkdocs.yml` template"
description = """
**Root Cause Analysis:** The `mkdocs build` command fails because the `theme.custom_dir` in `.egregora/mkdocs.yml` points to a directory in the site root (`overrides`), but the scaffolding logic is designed to place this directory inside `.egregora/`. This conflict was causing build failures. A workaround was implemented to force the `overrides` directory into the root, but the correct fix is to make the `mkdocs.yml` template point to the right place.

1. **Locate Template:** Find the `mkdocs.yml.jinja` template file in `src/egregora/rendering/templates/site`.
2. **Correct Path:** Change the `custom_dir` value from `overrides` to `.egregora/overrides`.
3. **Revert Workaround:** The test `tests/unit/output_adapters/mkdocs/test_scaffolding.py::test_overrides_are_in_site_root` and the corresponding code in `scaffolding.py` should be reverted to place `overrides` back into the `.egregora` directory.
**Verification:** After these changes, the `mkdocs build` command should succeed, and the test suite should pass.
"""
status = "review"
category = "infrastructure"
assignee = "forge"


[[tasks.high_priority]]
id = "fix-broken-nav-links"
title = "Fix broken navigation links in the site header"
description = """
The generated site has a broken navigation link for "Media". This creates a poor user experience and gives the impression of an incomplete site.
**Review Finding (2025-12-25):** The "Media" link points to `posts/media/index.md`, which is incorrect. The target `demo/site/posts/media/` directory is not being generated at all during the build process. The "About" link appears to be working correctly.
1. **Fix `mkdocs.yml` nav entry**: The path for "Media" in the `nav` section of the `mkdocs.yml` template must be corrected to point to a valid directory (e.g., `media/index.md` or similar, not inside `posts/`).
2. **Ensure file generation**: Confirm that the corresponding media index file is being correctly generated in the `docs` directory during the site build.
**Verification**: The "Media" link in the main navigation must resolve to a valid, styled page without any 404 errors.
"""
status = "pending"
category = "navigation"
assignee = "forge"

[[tasks.high_priority]]
id = "baseline-lighthouse"
title = "Generate demo and run Lighthouse audit"
description = "Document baseline scores (Performance, A11y, Best Practices, SEO)."
status = "in_progress"
category = "baseline"
assignee = "curator"

# Medium Priority - Refinement & Polish
[[tasks.medium_priority]]
id = "breadcrumbs"
title = "Add breadcrumbs to all pages"
description = "Enable the `navigation.path` feature in the `mkdocs.yml` file to provide breadcrumbs."
status = "pending"
category = "navigation"
assignee = "forge"

[[tasks.medium_priority]]
id = "active-state"
title = "Implement 'you are here' active state styling"
description = "Enable the `navigation.tracking` and `navigation.tabs` features in the `mkdocs.yml` file to provide active state styling."
status = "pending"
category = "navigation"
assignee = "forge"

# Completed tasks will be moved here
[[tasks.completed]]
id = "find-templates"
title = "Find MkDocs template location in src/"
description = "Document exact template location in vision.md"
status = "completed"
category = "infrastructure"
assignee = "curator"

[[tasks.completed]]
id = "fix-demo-command"
title = "Fix the `egregora demo` command"
description = "The `egregora demo` command was failing due to scaffolding issues and incorrect dependency installation commands. These issues have been resolved."
status = "completed"
category = "infrastructure"
assignee = "curator"

[[tasks.completed]]
id = "implement-core-readability-css"
title = "Implement Core Readability CSS in extra.css"
description = "Core readability improvements have been implemented and verified."
status = "completed"
category = "visual"
assignee = "curator"

# Lighthouse score tracking
[lighthouse.baseline]
performance = 0  # Measure first
accessibility = 0
best_practices = 0
seo = 0
measured_date = ""

[lighthouse.target]
performance = 95
accessibility = 100
best_practices = 100
seo = 100

[lighthouse.current]
performance = 0
accessibility = 0
best_practices = 0
seo = 0
last_measured = ""

# Reference examples for comparison
[[references]]
name = "Stripe Docs"
url = "https://stripe.com/docs"
strength = "Search, clarity, hierarchy"
