# UX/UI TODO - Structured format for programmatic task management
# Last updated: 2024-07-25

[metadata]
version = "1.0"
last_updated = "2024-07-25T00:00:00Z"
vision_doc = "docs/ux-vision.md"
template_location = "src/egregora/rendering/templates/site"

[workflow]
curator_persona = ".jules/personas/curator.md"
forge_persona = ".jules/personas/forge.md"
description = "Curator evaluates blogs and updates TODO. Forge implements items from high_priority."

# High Priority - Critical for Excellence
[[tasks.high_priority]]
id = "fix-empty-blog-generation"
title = "Fix empty blog generation from sample data"
description = """
WHY: The primary function of Egregora is to generate a blog from chat data. The current `egregora write` command runs to completion but produces zero posts from the sample data (`tests/fixtures/Conversa do WhatsApp com Teste.zip`), resulting in an empty, unusable blog. This is a critical failure of the core user journey.
WHAT: The content generation pipeline must be fixed to produce at least one blog post from the provided sample data.
HOW: After running `egregora init demo` and `egregora write "tests/fixtures/Conversa do WhatsApp com Teste.zip" --output-dir demo`, the `demo/docs/posts/` directory must contain at least one generated Markdown file for a blog post.
WHERE: The investigation should start in the `egregora write` command's logic and the underlying data processing pipeline to understand why no posts are being synthesized.
"""
status = "pending"
category = "infrastructure"
assignee = "forge"

[[tasks.high_priority]]
id = "fix-broken-scaffolding-defaults"
title = "Fix broken scaffolding defaults and missing dependencies"
description = """
WHY: The `egregora init` command creates a frustrating and broken out-of-the-box experience. The generated `mkdocs.yml` references a `custom_dir: overrides` that doesn't exist, and the suggested `mkdocs serve` command is missing multiple required plugins (`mkdocs-macros-plugin`, `mkdocs-glightbox`, `mkdocs-blogging-plugin`), causing the server to fail repeatedly. This forces users to manually debug the configuration.
WHAT: The scaffolding process must produce a configuration that works without manual changes. This includes creating the `overrides` directory and providing a complete `uvx` command with all necessary plugins.
HOW: After running `egregora init demo`, the `demo/overrides` directory should exist. The command suggested for serving the site should include all required plugins, allowing `mkdocs serve` to start successfully on the first attempt.
WHERE: The logic for the `egregora init` command needs to be updated to create the directory and the output message needs to be corrected to include the full list of plugins.
"""
status = "pending"
category = "infrastructure"
assignee = "forge"

[[tasks.high_priority]]
id = "set-homepage-to-blog-index"
title = "Set the site homepage to the blog index"
description = """
WHY: The tool is designed to generate a blog, but the default homepage is a page of technical documentation about Egregora itself. This is confusing and misaligned with the user's goal. The primary view should be the content they generated.
WHAT: The site's root page (`index.md`) should be the blog post index, showing a list of the most recent posts. The documentation content should be moved to a separate page, like `about.md` or `docs.md`.
HOW: When a user navigates to the root of the generated site (e.g., `http://localhost:8000`), they should see the list of blog posts. The content currently on the homepage should be accessible via a link in the navigation.
WHERE: The `egregora init` command's scaffolding process and the underlying templates in `src/egregora/rendering/templates/site/` need to be modified to change which content is placed in `index.md`.
"""
status = "pending"
category = "navigation"
assignee = "forge"

[[tasks.high_priority]]
id = "find-templates"
title = "Find MkDocs template location in src/"
description = "Document exact template location in vision.md (DO THIS FIRST)"
status = "review"
category = "infrastructure"
assignee = "forge"

[[tasks.high_priority]]
id = "demo-cli"
title = "Add egregora demo CLI command"
description = "Easy demo generation command"
status = "pending"
category = "infrastructure"
assignee = "forge"

[[tasks.high_priority]]
id = "demo-test"
title = "Create test to ensure demo/ stays updated"
description = "Automated test for demo freshness"
status = "pending"
category = "infrastructure"
assignee = "forge"

[[tasks.high_priority]]
id = "improve-readability"
title = "Improve long-form readability with larger body font size and optimal line length"
description = """
The default theme's body text is too small for comfortable long-form reading, and lines are too long on wide screens, causing eye strain. This task addresses these core readability issues.
1. **Font Size**: Increase the base body font size from the default (likely 16px) to 18px.
2. **Line Length**: Cap the main content column width to a maximum of 75 characters (approx `70ch` in CSS) to prevent overly long lines.
**Verification**: Inspect the CSS for the body font-size and the main content container's `max-width`. Visually confirm on a wide monitor that text is comfortable to read and lines are not excessively long. A readability score (e.g., Flesch-Kincaid) should improve.
"""
status = "pending"
category = "content"
assignee = "forge"

[[tasks.high_priority]]
id = "demo-cli"
title = "Add egregora demo CLI command"
description = "Easy demo generation command. Currently blocked by pipeline errors."
status = "pending"
category = "infrastructure"
assignee = "forge"

[[tasks.high_priority]]
id = "baseline-lighthouse"
title = "Generate demo and run Lighthouse audit"
description = "Document baseline scores (Performance, A11y, Best Practices, SEO). Blocked by demo generation issues."
status = "pending"
category = "baseline"
assignee = "curator"

# Medium Priority - Refinement & Polish
# (Keeping the rest of the list for now)
[[tasks.medium_priority]]
id = "breadcrumbs"
title = "Add breadcrumbs to all pages"
status = "pending"
category = "navigation"
assignee = "forge"

[[tasks.medium_priority]]
id = "active-state"
title = "Implement 'you are here' active state styling"
status = "pending"
category = "navigation"
assignee = "forge"

# Completed tasks will be moved here
[[tasks.completed]]
id = "find-templates"
title = "Find MkDocs template location in src/"
description = "Document exact template location in vision.md"
status = "completed"
category = "infrastructure"
assignee = "curator"
# Example format when tasks are completed:
# [[tasks.completed]]
# id = "setup-personas"
# title = "Create Curator and Forge personas"
# status = "completed"
# completed_date = "2025-12-19T00:00:00Z"
# completed_by = "claude"
# metrics = "N/A - foundational work"

# Lighthouse score tracking
[lighthouse.baseline]
performance = 0  # Measure first
accessibility = 0
best_practices = 0
seo = 0
measured_date = ""

[lighthouse.target]
performance = 95
accessibility = 100
best_practices = 100
seo = 100

[lighthouse.current]
performance = 0
accessibility = 0
best_practices = 0
seo = 0
last_measured = ""

# Reference examples for comparison
[[references]]
name = "Stripe Docs"
url = "https://stripe.com/docs"
strength = "Search, clarity, hierarchy"
