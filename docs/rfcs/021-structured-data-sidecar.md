# RFC: Structured Data Sidecar
**Status:** Actionable Proposal
**Date:** 2024-07-29
**Disruption Level:** Low - Fast Path

## 1. The Vision
Alongside every generated blog post, the Egregora pipeline will also save a `post.json` file. This file will contain a structured representation of the post's content: key entities, decisions made, open questions, and links to related concepts from the RAG knowledge base. This creates a machine-readable "shadow" of the blog, turning narrative into a queryable, networked knowledge graph, and provides the essential fuel for the [Egregora Symbiote](./020-the-egregora-symbiote.md) moonshot.

## 2. The Broken Assumption
We currently assume that the **only** valuable output of the pipeline is human-readable Markdown.
> "We are throwing away valuable structured data extracted by the LLM during the writing process. By only keeping the narrative, we force all future interactions to re-process the text, which is slow, expensive, and inefficient."

## 3. The First Implementation Path (â‰¤30 days)
- **Step 1: Modify the Writer Agent.** Update the `Writer` Pydantic-AI agent to have an output model that includes not just the `post_markdown`, but also fields for `entities`, `decisions`, and `open_questions`.
- **Step 2: Update the Output Sink.** Modify the `MkDocsAdapter`'s `publish` method. When it receives a document, it will now write two files: `post.md` (the existing content) and `post.json` (the new structured data).
- **Step 3: (Optional) Expose in UI.** A simple "View Data" link can be added to the blog post template to expose the JSON for debugging and demonstration purposes.

## 4. The Value Proposition
This is the fastest, lowest-risk way to begin building the foundation for a real-time, intelligent Egregora. It delivers immediate value by creating a machine-readable API for the knowledge base without requiring any new infrastructure. It proves the hypothesis that we *can* extract a knowledge graph from conversations, de-risking the entire Symbiote moonshot.

## 5. Success Criteria
- For every `.md` file generated by the `write` command, a corresponding `.json` file is also created.
- The JSON file contains valid, structured data related to the content of the Markdown file.
- The existing blog generation process is not broken.
