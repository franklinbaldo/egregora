# User Stories Addressed by Recent Output Fixes

## 1. MkDocs Sites with Custom `docs_dir`
- **As** a user who keeps Markdown files at the project root rather than in `docs/`
- **I want** Egregora to respect the `docs_dir` override in `.egregora/mkdocs.yml`
- **So that** all posts, media, and enrichment files are written directly under my intended directories without breaking MkDocs builds when `docs_dir: ..` is set.

## 2. Media Enrichment Markdown in the Correct Folder
- **As** an editor who reviews media summaries generated by enrichment
- **I want** every enriched description to be saved as a `.md` file under the canonical `media/<type>/` tree
- **So that** I can link to those descriptions from posts without encountering duplicate `media/media/…` paths or missing extensions.

## 3. Stable URLs and Relative Links in Generated Posts
- **As** a reader navigating the published site
- **I want** canonical URLs for posts, profiles, and media to align with the actual folder structure regardless of where the docs directory lives
- **So that** permalinks and image references remain valid even when the site root differs from MkDocs defaults.

## 4. Writer Agent Awareness of Runtime Paths
- **As** a content maintainer who runs the pipeline locally and in CI
- **I want** the writer agent’s temporary MkDocs adapter to mirror the same site prefix and media layout as the main pipeline
- **So that** previews, journal files, and prompt context don’t diverge from the final site structure.

## 5. Deterministic Media Filenames for Original Assets and Enrichments
- **As** a team member curating assets across multiple runs
- **I want** both extracted media files and their enrichment markdown to share deterministic UUID‑based names in the configured media directory
- **So that** deduplication, RAG indexing, and manual reviews stay consistent across reruns.
