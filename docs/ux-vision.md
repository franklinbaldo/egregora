# ðŸŽ­ Curator's UX Vision for Egregora

This document outlines the user experience and user interface (UX/UI) vision for the blogs generated by Egregora. It is a living document, developed and maintained by the Curator persona.

## Core Principles

1.  **Immersive First:** The design must create an immersive, engaging "portal" experience that draws the reader into the collective consciousness. The UI should feel intentional, polished, and distinct.
2.  **Content-First:** The design must prioritize readability and the clear presentation of the generated content. All other design elements are secondary.
3.  **Autonomously Generated, Professionally Presented:** The blog is generated 100% autonomously, but it should not look like it. The final output must be polished, professional, and indistinguishable from a high-quality, human-curated site.
4.  **Privacy-First by Default:** The user's privacy is paramount. Features that could compromise privacy (like analytics) must be opt-in, never on by default.
5.  **Measurable Quality:** All UX decisions should be backed by data where possible. We will use tools like Lighthouse to measure and track our progress on accessibility, performance, and SEO.
6.  **Accessible to All:** The final site must be usable by everyone, regardless of their abilities. We will adhere to WCAG AA standards as a minimum baseline.

## Technical & Architectural Discoveries

### Template Architecture

**CRITICAL FINDING:** The templates for the MkDocs site are **not** standalone `.html` or `.jinja2` files. They are embedded as triple-quoted strings within the Python source code.

This has significant implications for how we work:
-   **Forge Persona:** All UX/UI changes will require modifying Python files, not just HTML/CSS.
-   **Curator Persona:** My tasks must be extremely precise, pointing to the exact Python file and even the specific function or variable that contains the template string.

The key locations for these embedded templates are:
-   `src/egregora/output_adapters/mkdocs/scaffolding.py`: Generates `mkdocs.yml` and the core site structure.
-   `src/egregora/output_adapters/mkdocs/adapter.py`: Generates the individual Markdown pages for posts, profiles, etc.
-   `src/egregora/output_adapters/mkdocs/site_generator.py`: Orchestrates the assembly of the site and generation of summary pages.

### Developer Experience
-   **Status:** Poor.
-   **Issue:** The `egregora demo` command is brittle and fails repeatedly due to missing dependencies (`ibis`, `google-generativeai`, `pydantic-ai`, `ratelimit`, `lancedb`, `Pillow`, etc.). This creates a significant barrier for developers and other agents trying to evaluate or contribute to the project.
-   **Next Action:** Create a high-priority task for Forge to identify all missing dependencies required to run the core commands and add them to the `pyproject.toml` file. This will ensure a smooth, out-of-the-box experience.

## Design System (V1 - "The Portal")

This section defines the "Portal" design system, which aims to create a dark, immersive, and premium experience.

### Color Palette
-   **Status:** Inconsistent.
-   **Primary:** A deep, thoughtful blue (`#2c3e50`) defined in `extra.css`.
-   **Accent:** A vibrant, energetic yellow (`#f9d423`) defined in `extra.css`.
-   **Conflict:** The generated `mkdocs.yml` correctly sets `primary: custom`, but incorrectly sets `accent: yellow`. This overrides the custom accent color defined in `extra.css`, breaking the "Portal" theme's consistency.
-   **Next Action:** Create a task for Forge to modify the `mkdocs.yml` Jinja template in `src/egregora/output_adapters/mkdocs/scaffolding.py`. The template must be updated to set both `primary` and `accent` to `custom` to allow `extra.css` to take full control of the color scheme.

### Typography
-   **Status:** Defined.
-   **Fonts:** `Outfit` for headings and `Inter` for body text.
-   **Implementation:** The fonts are imported and applied in `demo/docs/stylesheets/extra.css`.

### Favicon
-   **Status:** Missing.
-   **Issue:** The generated `mkdocs.yml` correctly references a favicon at `assets/images/favicon.png`, but the file itself is not present in the generated `demo/docs/assets/images/` directory.
-   **Next Action:** Create a task for Forge to add a placeholder favicon to the project and ensure it is copied to the correct location (`demo/docs/assets/images/favicon.png`) during the scaffolding process. A separate design task can be created later.

### Social Cards
-   **Status:** Broken.
-   **Issue:** The social card generation is failing with 404 errors for the card images.
-   **Next Action:** Create a high-priority task for Forge to investigate and fix the root cause of the 404 errors.

### Navigation
-   **Status:** Implemented, but needs review.
-   **Issue:** The main navigation is functional, but the "Media" page is a placeholder and may not be the most logical top-level item. The hero section on the homepage also contains navigation links that should be consistent with the main nav.
-   **Next Action:** Review the information architecture and create a task to restructure the navigation for better clarity and consistency.

### Analytics
-   **Status:** Removed.
-   **Issue:** Previous versions of the generator included a placeholder for a Google Analytics key. As of the latest inspection, this has been removed from the default `mkdocs.yml` template.
-   **Next Action:** None. This issue is resolved and aligns with our "Privacy-First" principle.
