---
title: Egregora 1.0 – Pipeline local-first concluído
date: 2025-10-13
categories:
  - analysis
tags:
  - release
  - pipeline
  - rag
summary: "WhatsApp → Polars → Gemini → DuckDB → MkDocs, tudo orquestrado em um único comando."
---

A jornada de oito fases chegou ao fim: o Egregora 1.0 está disponível com uma
pipeline local-first que usa Polars, embeddings Gemini e RAG em DuckDB para
entregar posts determinísticos com contexto histórico. A nova CLI `egregora
pipeline` encadeia ingestão, anonimização, vetorização, busca contextual, geração
via Jinja e pré-visualização com MkDocs, sem mais depender do processador
monolítico anterior.【F:src/egregora/__main__.py†L22-L115】【F:src/egregora/pipeline_runner.py†L18-L185】

## Destaques da versão

- **Ingestão declarativa**: `ingest_exports` combina múltiplos ZIPs, enquanto
  `anonymise_frame` aplica pseudônimos estáveis sem abandonar o Polars lazy.
  【F:src/egregora/pipeline_runner.py†L44-L104】
- **Embeddings Gemini desacoplados**: `embed_dataframe` adiciona colunas
  vetoriais prontas para persistência e testes, reutilizando um `GeminiEmbedder`
  compartilhado.【F:src/egregora/pipeline_runner.py†L118-L154】
- **RAG local reutilizável**: o `LocalRAGClient` consulta índices DuckDB com ou
  sem extensão VSS, expondo resultados consistentes para a camada de geração.
  【F:src/egregora/pipeline_runner.py†L18-L80】
- **Geração conectada**: `_run_generation` aceita clientes RAG injetados (locais
  ou remotos) e mantém as opções de arquivamento e preview do MkDocs.
  【F:src/egregora/generate/cli.py†L24-L196】
- **Documentação atualizada**: novos guias cobrem o setup do índice DuckDB e a
  execução ponta a ponta da pipeline 1.0.【F:docs/getting-started/rag-setup.md†L1-L67】

## Próximos passos

Com a base 1.0 estabilizada, o foco passa para integrações adicionais (Telegram,
Signal) e testes end-to-end com credenciais reais do Gemini/Internet Archive.
Contribuições e feedback são muito bem-vindos!
