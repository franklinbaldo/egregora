{% extends "main.html" %}

{% block content %}
  <div class="md-content__inner md-typeset">
    <div class="author-profile-page">
      <header class="author-header">
        <div class="author-avatar">
          <img src="{{ page.meta.avatar }}" alt="{{ page.title }}">
        </div>
        <div class="author-info">
          <h1>{{ page.meta.name }}</h1>
          <div class="author-stats">
            <span>{{ page.meta.post_count }} posts</span> &bull;
            <span>{{ page.meta.word_count }} words</span> &bull;
            <span>Since {{ page.meta.member_since }}</span>
          </div>
        </div>
      </header>

      <section class="author-topics">
        <h2>Frequent Topics</h2>
        <div class="topic-bars">
          {% for topic, count in page.meta.topic_counts %}
            <div class="topic-bar">
              <span class="topic-name">{{ topic }}</span>
              <div class="bar" style="width: {{ (count / page.meta.topic_counts[0][1]) * 100 }}%;"></div>
            </div>
          {% endfor %}
        </div>
      </section>

      <section class="author-posts">
        <h2>Posts</h2>
        <ul>
          {% for post in page.meta.posts %}
            <li>
              <a href="{{ post.url }}">{{ post.title }}</a>
              <span>{{ post.date }} &bull; <span class="reading-time" data-word-count="{{ post.word_count }}"></span></span>
            </li>
          {% endfor %}
        </ul>
      </section>
    </div>
  </div>
{% endblock %}
